{"version":3,"sources":["components/TabsHeader.tsx","components/TabPanel.tsx","components/CloudServices.tsx","hooks/useGeoLocation.tsx","assets/aws-logo.png","assets/azure-logo.png","assets/google-logo.jpg","assets/do-logo.png","dictionary/index.ts","assets/upcloud-logo.png","utils/getCloudProvider.ts","components/Providers.tsx","App.tsx","hooks/useAsync.tsx","utils/getDistance.ts","utils/getKeyByValue.ts","utils/sorting.ts","reportWebVitals.ts","index.tsx"],"names":["TabsContainer","styled","Tabs","TabsHeader","props","regions","currentTab","handleChange","value","onChange","variant","scrollButtons","map","label","Tab","TabPanel","children","index","Box","p","CloudServicesContainer","div","Header","StyledCard","Card","CardContentWrapper","StyledCardMainContent","CardContent","StyledCardRight","SortButton","Button","CloudServices","data","handleSort","Tooltip","title","size","startIcon","onClick","item","Fade","in","timeout","CardActionArea","Typography","gutterBottom","component","cloud_name","color","cloud_description","distance","Math","round","useGeoLocation","useState","location","setLocation","useEffect","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","console","error","cloudProvider","aws","azure","google","do","upcloud","providerLogo","awsLogo","azureLogo","googleLogo","doLogo","getCloudProvider","name","shortName","split","ProvidersContainer","ProviderCard","logo","isActive","Providers","providers","handleSelect","length","AppContainer","LoaderContainer","App","setProviders","setRegions","regionsData","setRegionsData","cloudsData","setCloudsData","selectedProviders","setSelectedProviders","filteredData","setFilteredData","tabIndex","setTabIndex","tabData","setTabData","isAscend","setIsAscend","url","isLoading","setIsLoading","setData","setError","fetchData","a","fetch","fetching","json","useAsync","clouds","dataWithDistance","geo_latitude","geo_longitude","lat1","lat2","lon1","lon2","PI","dlon","dlat","pow","sin","cos","asin","sqrt","getDistance","cloudNames","Array","from","Set","provider","object","providerShortName","Object","keys","find","key","geo_region","computedRegionData","reduce","result","current","regionData","sort","filteredCloudData","filter","selectedProvider","className","selectedIndex","findIndex","newSelections","splice","CircularProgress","event","sortedData","array","b","sorting","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45f039bc.chunk.js","sourcesContent":["import Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport styled from 'styled-components';\n\nimport { TabsHeaderProps } from '../types';\n\nconst TabsContainer = styled(Tabs)`\n  flex: 1;\n  padding-right: 1rem;\n`;\n\nexport default function TabsHeader(props: TabsHeaderProps) {\n  const { regions, currentTab, handleChange } = props;\n\n  return (\n    <TabsContainer\n      value={currentTab}\n      onChange={handleChange}\n      variant=\"scrollable\"\n      scrollButtons=\"auto\"\n      data-testid=\"tabs-header-container\"\n    >\n      {regions.map((label) => (\n        <Tab data-testid=\"tab-label\" key={label} label={label} />\n      ))}\n    </TabsContainer>\n  );\n}\n","import Box from '@material-ui/core/Box';\nimport { TabPanelProps } from '../types';\n\nexport default function TabPanel(props: TabPanelProps) {\n  const { children, value, index } = props;\n\n  // prettier-ignore\n  return (\n    <div data-testid=\"tab-panel\">\n      {value === index && <Box data-testid=\"content-wrapper\" p={3}>{children}</Box>}\n    </div>\n  )\n}\n","import styled from 'styled-components';\nimport Button from '@material-ui/core/Button';\nimport SortIcon from '@material-ui/icons/Sort';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Fade from '@material-ui/core/Fade';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport TabsHeader from './TabsHeader';\nimport TabPanel from './TabPanel';\n\nimport { CloudServicesProps } from '../types';\nimport CardActionArea from '@material-ui/core/CardActionArea';\n\nconst CloudServicesContainer = styled.div`\n  flex-grow: 1;\n  width: 100%;\n`;\n\nconst Header = styled.div`\n  display: flex;\n  width: calc(100% - 3rem);\n  padding-left: 1.5rem;\n`;\n\nconst StyledCard = styled(Card)`\n  margin-bottom: 0.5rem;\n`;\n\nconst CardContentWrapper = styled.div`\n  display: flex;\n`;\n\nconst StyledCardMainContent = styled(CardContent)`\n  flex: 1;\n`;\n\nconst StyledCardRight = styled(CardContent)`\n  flex: 0.4;\n`;\n\nconst SortButton = styled(Button)``;\n\nexport default function CloudServices(props: CloudServicesProps) {\n  const { data, regions, currentTab, handleChange, handleSort } = props;\n\n  return (\n    <CloudServicesContainer>\n      <Header>\n        <TabsHeader regions={regions} currentTab={currentTab} handleChange={handleChange} />\n        <Tooltip title=\"Sort by distance to user\">\n          <SortButton variant=\"text\" size=\"small\" startIcon={<SortIcon />} onClick={handleSort}>\n            Sort\n          </SortButton>\n        </Tooltip>\n      </Header>\n\n      {regions.map((label, index) => (\n        <TabPanel key={label} value={currentTab} index={index}>\n          {data.map((item) => (\n            <Fade in={true} timeout={500} key={item.cloud_name}>\n              <StyledCard key={item.cloud_name}>\n                <CardActionArea>\n                  <CardContentWrapper>\n                    <StyledCardMainContent>\n                      <Typography gutterBottom component=\"h5\" variant=\"h5\">\n                        {item.cloud_name}\n                      </Typography>\n                      <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                        {item.cloud_description}\n                      </Typography>\n                    </StyledCardMainContent>\n\n                    {item.distance && (\n                      <StyledCardRight>\n                        <Typography variant=\"subtitle1\">Distance</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                          {Math.round(item.distance as number)} km\n                        </Typography>\n                      </StyledCardRight>\n                    )}\n                  </CardContentWrapper>\n                </CardActionArea>\n              </StyledCard>\n            </Fade>\n          ))}\n        </TabPanel>\n      ))}\n    </CloudServicesContainer>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { GeoLocation } from '../types';\n\nexport default function useGeoLocation(): GeoLocation | null {\n  const [location, setLocation] = useState<GeoLocation | null>(null);\n\n  // https://www.pluralsight.com/guides/how-to-use-geolocation-call-in-reactjs\n  function getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        const { latitude, longitude } = position.coords;\n        setLocation({ latitude, longitude });\n      });\n    } else {\n      console.error('Geolocation is not supported by this browser.');\n    }\n  }\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n\n  return location;\n}\n","export default __webpack_public_path__ + \"static/media/aws-logo.9ba64765.png\";","export default __webpack_public_path__ + \"static/media/azure-logo.603c9f76.png\";","export default __webpack_public_path__ + \"static/media/google-logo.acfa52b4.jpg\";","export default __webpack_public_path__ + \"static/media/do-logo.dbcd217c.png\";","import awsLogo from '../assets/aws-logo.png';\nimport azureLogo from '../assets/azure-logo.png';\nimport googleLogo from '../assets/google-logo.jpg';\nimport doLogo from '../assets/do-logo.png';\nimport upcloudLogo from '../assets/upcloud-logo.png';\n\nexport const cloudProvider: Record<string, string> = {\n  aws: 'Amazon Web Services',\n  azure: 'Azure',\n  google: 'Google Cloud',\n  do: 'DigitalOcean',\n  upcloud: 'UpCloud',\n};\n\nexport const providerLogo: Record<string, string> = {\n  aws: awsLogo,\n  azure: azureLogo,\n  google: googleLogo,\n  do: doLogo,\n  upcloud: upcloudLogo,\n};\n","export default \"data:image/png;base64,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\"","import { cloudProvider } from '../dictionary';\n\nfunction getCloudProvider(name: string): string {\n  const shortName = name.split('-')[0];\n  return cloudProvider[shortName];\n}\n\nexport default getCloudProvider;\n","import styled from 'styled-components';\n\nimport { ProviderCardProps, ProviderProps } from '../types';\n\nconst ProvidersContainer = styled.div`\n  display: flex;\n  gap: 2rem;\n  padding: 2rem;\n`;\n\nconst ProviderCard = styled.div<ProviderCardProps>`\n  width: 12rem;\n  height: 12rem;\n  background-image: url(${(props) => props.logo});\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: white;\n\n  border: ${(props) => (props.isActive ? '2px solid #f50057' : '2px solid rgba(0, 0, 0, 0.12)')};\n  border-radius: 4px;\n  transition-duration: 0.2s;\n  transition-timing-function: ease-in-out;\n\n  /* prettier-ignore */\n  &:hover {\n    box-shadow:\n      0px 2px 1px -1px rgb(0 0 0 / 20%),\n      0px 1px 1px 0px rgb(0 0 0 / 14%),\n      0px 1px 3px 0px rgb(0 0 0 / 12%);\n  }\n`;\n\nexport default function Providers(props: ProviderProps) {\n  const { providers, handleSelect, isActive } = props;\n\n  return providers.length ? (\n    <ProvidersContainer data-testid=\"providers\">\n      {providers.map((item) => (\n        <ProviderCard\n          data-testid={item.value}\n          key={item.value}\n          onClick={() => handleSelect(item)}\n          logo={item.logo}\n          isActive={isActive(item)}\n        />\n      ))}\n    </ProvidersContainer>\n  ) : null;\n}\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport CloudServices from './components/CloudServices';\nimport useAsync from './hooks/useAsync';\nimport useGeoLocation from './hooks/useGeoLocation';\nimport getCloudProvider from './utils/getCloudProvider';\nimport getKeyByValue from './utils/getKeyByValue';\nimport getDistance from './utils/getDistance';\nimport sorting from './utils/sorting';\nimport { CloudData, Clouds, Provider } from './types';\nimport { cloudProvider, providerLogo } from './dictionary';\nimport Providers from './components/Providers';\n\nconst URL = 'https://api.aiven.io/v1/clouds';\n\nconst AppContainer = styled.div`\n  max-width: 1200px;\n  margin: auto;\n`;\n\nconst LoaderContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nfunction App() {\n  const [providers, setProviders] = useState<Provider[]>([]);\n  const [regions, setRegions] = useState<string[]>([]);\n  const [regionsData, setRegionsData] = useState<Record<string, CloudData[]>>({});\n  const [cloudsData, setCloudsData] = useState<CloudData[]>([]);\n\n  const [selectedProviders, setSelectedProviders] = useState<Provider[]>([]);\n  const [filteredData, setFilteredData] = useState<CloudData[] | null>(null);\n\n  const [tabIndex, setTabIndex] = useState<number>(0);\n  const [tabData, setTabData] = useState<CloudData[]>([]);\n  const [isAscend, setIsAscend] = useState<boolean>(true);\n\n  const { isLoading, data, error } = useAsync<Clouds>(URL);\n  const location = useGeoLocation();\n\n  useEffect(() => {\n    if (data?.clouds) {\n      if (location) {\n        const { latitude, longitude } = location;\n        const dataWithDistance = data.clouds.map((item) => {\n          const { geo_latitude, geo_longitude } = item;\n          const distance = getDistance(latitude, geo_latitude, longitude, geo_longitude);\n          return { ...item, distance };\n        });\n        setCloudsData(dataWithDistance);\n      } else {\n        setCloudsData(data?.clouds);\n      }\n    }\n  }, [data?.clouds, location]);\n\n  useEffect(() => {\n    if (cloudsData) {\n      const cloudNames = cloudsData.map((item) => getCloudProvider(item.cloud_name));\n      const providers = Array.from(new Set(cloudNames)).map((provider) => {\n        const providerShortName = getKeyByValue(cloudProvider, provider);\n        return {\n          value: providerShortName,\n          label: provider,\n          logo: providerLogo[providerShortName],\n        };\n      });\n      const regions = cloudsData.map((item) => item.geo_region);\n      const computedRegionData = cloudsData.reduce<Record<string, CloudData[]>>(\n        (result, current) => {\n          const regionData = result[current.geo_region];\n          result[current.geo_region] = regionData ? [...regionData, current] : [current];\n\n          return result;\n        },\n        {}\n      );\n\n      setProviders(providers);\n      setRegions(Array.from(new Set(regions)).sort());\n      setRegionsData(computedRegionData);\n    }\n  }, [cloudsData]);\n\n  useEffect(() => {\n    if (selectedProviders.length) {\n      const filteredCloudData = tabData.filter((item) => {\n        const providerShortName = item.cloud_name.split('-')[0];\n        return selectedProviders.find(\n          (selectedProvider) => selectedProvider.value === providerShortName\n        );\n      });\n      setFilteredData(filteredCloudData);\n    } else {\n      setFilteredData(tabData);\n    }\n  }, [selectedProviders, tabData]);\n\n  useEffect(() => {\n    setTabData(regionsData[regions[tabIndex]]);\n  }, [regionsData, regions, tabIndex]);\n\n  function handleSelectProvider(provider: Provider): void {\n    const selectedIndex = selectedProviders.findIndex((item) => item.value === provider.value);\n\n    if (selectedIndex === -1) {\n      setSelectedProviders([...selectedProviders, provider]);\n    } else {\n      let newSelections = [...selectedProviders];\n      newSelections.splice(selectedIndex, 1);\n      setSelectedProviders(newSelections);\n    }\n  }\n\n  function isActive(provider: Provider) {\n    return selectedProviders.findIndex((item) => item.value === provider.value) !== -1;\n  }\n\n  function handleChangeTab(event: React.ChangeEvent<{}>, index: number): void {\n    setTabIndex(index);\n  }\n\n  function handleSortByDistance() {\n    if (location && filteredData) {\n      const sortedData = sorting(filteredData, isAscend, 'distance');\n      setFilteredData(sortedData);\n      setIsAscend(!isAscend);\n    }\n  }\n\n  if (error) {\n    return <div> Fetching error:</div>;\n  }\n\n  return (\n    <AppContainer>\n      <header className=\"App-header\"></header>\n      <Providers providers={providers} handleSelect={handleSelectProvider} isActive={isActive} />\n\n      {isLoading || !filteredData ? (\n        <LoaderContainer>\n          <CircularProgress />\n        </LoaderContainer>\n      ) : (\n        <CloudServices\n          data={filteredData}\n          regions={regions}\n          currentTab={tabIndex}\n          handleChange={handleChangeTab}\n          handleSort={handleSortByDistance}\n        />\n      )}\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from 'react';\n\n// https://polvara.me/posts/fetching-asynchronous-data-with-react-hooks\n// https://stackoverflow.com/a/62171426\nexport default function useAsync<T>(url: string): {\n  isLoading: boolean;\n  data: T | null;\n  error: Error | null;\n} {\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState<T | null>(null);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetchData = async () => {\n    try {\n      setIsLoading(true);\n\n      const fetching = await fetch(url);\n      const data = await fetching.json();\n\n      setData(data);\n    } catch (error: any) {\n      setError(error);\n      // console.error('Fetching error: ', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, [url]);\n\n  return { isLoading, data, error };\n}\n","// https://www.geeksforgeeks.org/program-distance-two-points-earth/\nexport default function distance(lat1: number, lat2: number, lon1: number, lon2: number): number {\n  // The math module contains a function\n  // named toRadians which converts from\n  // degrees to radians.\n  lon1 = (lon1 * Math.PI) / 180;\n  lon2 = (lon2 * Math.PI) / 180;\n  lat1 = (lat1 * Math.PI) / 180;\n  lat2 = (lat2 * Math.PI) / 180;\n\n  // Haversine formula\n  let dlon = lon2 - lon1;\n  let dlat = lat2 - lat1;\n  let a =\n    Math.pow(Math.sin(dlat / 2), 2) +\n    Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon / 2), 2);\n\n  let c = 2 * Math.asin(Math.sqrt(a));\n\n  // Radius of earth in kilometers. Use 3956\n  let r = 3956;\n\n  // calculate the result\n  return c * r;\n}\n","export default function getKeyByValue(object: Record<string, string>, value: string): string {\n  return Object.keys(object).find((key) => object[key] === value) as string;\n}\n","export default function sorting(array: any[], isAscend: boolean, key: string) {\n  return isAscend\n    ? array.sort(\n        (a: { [x: string]: number }, b: { [x: string]: number }) =>\n          (a[key] as number) - (b[key] as number)\n      )\n    : array.sort(\n        (a: { [x: string]: number }, b: { [x: string]: number }) =>\n          (b[key] as number) - (a[key] as number)\n      );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}